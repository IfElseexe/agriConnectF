<div class="chat-container">
  <div class="chat-sidebar">
    <h3>Chats</h3>
    <ul class="chat-list">
      <li *ngFor="let chat of chats" (click)="selectChat(chat)" [class.active]="chat === selectedChat">
        <fa-icon icon="user"></fa-icon>
        {{ getChatPartnerName(chat) }}
      </li>
    </ul>
  </div>

  <div class="chat-main" *ngIf="selectedChat">
    <h3>{{ getChatPartnerName(selectedChat) }}</h3>
    <div class="messages-box">
      <div *ngFor="let msg of messages" [class.me]="msg.sender._id === currentUserId">
        <strong>{{ msg.sender.name }}:</strong> {{ msg.content }}
        <span class="timestamp">{{ msg.createdAt | date:'shortTime' }}</span>
      </div>
    </div>

    <div class="message-input">
      <input [(ngModel)]="newMessage" placeholder="Type your message..." />
      <button (click)="sendMessage()">Send</button>
    </div>
  </div>
</div>
